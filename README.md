# Cookie MONSTER
Cookie MONSTER (Machine for Obtaining Novel Smart Typical Evaluative Recipes) is a system that uses a modified genetic algorithm to create and evaluate cookie recipes.

## *Authors*
* Ahmed Hameed
* Adrienne Miller
* Nicole Nigro

## Creativity Metrics and Perspectives
### **18 Criteria (Ritchie, 2007)**
Inspired by Ritchie’s creativity metrics, we incorporated functions to evaluate the recipes produced by our system in terms of:
* **Typicality**: is the recipe a recognizable example of the target genre (cookie recipes)?
	* recipe_typicality()
		* This function compares each recipe generated by the system to each recipe in the inspiring set. A higher typicality score means that a recipe is more similar to the recipes in the inspiring set.
* **Novelty**: how similar/dissimilar is the recipe to other recipes generated by the system?
	* recipe_novelty()
		* This function compares the recipes generated by the system to each other by determining which recipes have the most unique ingredients. This higher the novelty score, the more unique/novel ingredients a recipe contains. 
* **Quality**: is the recipe of value? will the ingredients in the recipe taste well together?
	* similarity_fitness()
		* This function uses the information in the npy files to evaluate the ‘similarity’ of all ingredients in the recipe to determine if the ingredients in the recipe ‘taste good’ together. A higher similarity score means that the recipe ingredients should taste better together. 

Our system uses similarity_fitness() and recipe_novelty() to rank recipes, giving each an overall novelty and quality score. This scoring methodology ranks recipes with ingredients that pair well together and are rarer higher. We also give each recipe a typicality score, but did not use this for calculating ranks because our crossover function guarantees that the recipes are typical enough to be considered a cookie. In our crossover, we take the essential ingredients from one of the parent cookies, so that all the recipes that we generate have dough that makes sense for a cookie. The typicality function helps us to see how close our generated recipes are to the inspiring set, but doesn’t reflect the quality/rank of a cookie recipe as well as our other two ranking functions.

Also, Ritchie emphasized the importance of an inspiring set because any creative system is based on some existing samples in one way or another. We intentionally created an inspiring set of 50 cookie recipes featuring all sorts of ingredients, with recipes featuring typical cookie ingredients such as chocolate and oats but also recipes including more unique ingredients such as cumin and zucchini. With a wide variety of ingredients, our system is able to create unique and novel cookie recipes while maintaining the key ingredients of cookies.

### **Four PPPPerspectives (Rhodes, 1961; Jordanous, 2016)**  
Jordanous suggested that there are four perspectives that a successful system should incorporate: product, producer, process, and press. Above, we focused on the ‘product’--the quality of the cookie recipes generated by the system. Our system can also be evaluated in terms of process--how does our system connect to the way that humans go through the creative process. 

#### **A Generation Odyssey (Ventura, 2016)**
Our system’s process can be evaluated through the idea of Ventura’s odyssey. Different parts of the system can be categorized as being in different stages of the odyssey. The dough of each generated cookie recipe comes directly from the inspiring set to ensure that every cookie recipe has good dough; this aspect of our system is still in the memorization stage. Inspired by the generalization phase of Ventura’s odyssey, we categorize all ingredients as either essential or nonessential, which impacts how the ingredient is added or removed from a recipe. We also use our evaluation functions to create a bias for recipes with ingredients that ‘go well’ together. Our fitness functions and rankings bring our system into the filtration phase; with these functions we are able to evaluate our cookie recipes and determine which recipes will go on to the next generation. This filtration of cookie recipes based on similarity fitness and uniqueness are a major part of our system’s creative process. Although we have a knowledge base with information about ingredient types and ingredient similarity, we don’t consider our system to be entirely at the inception stage of Ventura’s odyssey. Part of the inception phase is  “inject[ing] knowledge into a computationally creative system without leaving the injector’s fingerprints all over the resulting artifact.” Most of our domain knowledge is hard coded in; to improve on our system in the future, we could increase the size of our inspiring set more, and try to create a wider knowledge base. 

### **Metrics Folder**
We have a metrics folder devoted to the analysis of our system’s creativity. It has 6 files which contain the metric scores for the Inspiring Set recipes and the metrics for the 5 times we ran our system (metric[1-5].txt), respectively. On the first line of each file, we list the average combined novelty and quality score for that generation as well as that generation’s average typicality score. We then rank the 50 recipes generated by our system in order of overall novelty and quality score, with the recipe with the highest score ranked #1 and the recipe with the lowest score ranked #50.

The average typicality score for our inspiring set was 30.3 and the average typicality scores for the 5 runs of our system range from 22.92 (metrics3) to 29.02 (metrics1). The typicality scores for the 5 runs of our system are lower than the inspiring set, reflecting the new ingredients being added from the npy file when we mutate, but it is close enough to the inspiring set’s average to suggest that a high enough typicality is still maintained; the generated recipes are more creative yet resemble typical cookie recipes.

The average combined novelty and quality score for our inspiring set was 5 and the average typicality scores for the 5 runs of our system range from 16.63 (metrics5) to 21.83 (metrics2). The drastic difference from the average score for our inspiring set to running our system 5 times demonstrates our system’s creative process that creates novel recipes with varied ingredients and also quality recipes with ingredients that pair well together.

## Technical Details

### **How to Set Up and Run the Code**
1. Open the terminal.
2. Change your directory to the folder you want to store this code in.  
```
$ cd Documents/GitHub
```
3. Clone this repository onto your computer with the following line:  
```
$ git clone https://github.com/nicolenigro/lets-get-cooking.git
```
4. Change your directory to the folder for this project.  
```
$ cd smart-cookies
```
5. Install all the necessary packages with the following commands:
```
$ pip3 install numpy
$ pip3 install beautifulsoup4
$ pip3 install requests
```
6. Type and enter the following line into the terminal to run the program.  
```
$ python3 cookie_generator.py
```
## Inspiring Set
We created an inspiring set of cookie recipes using recipes from these sites:
* https://cooking.nytimes.com
* https://sallysbakingaddiction.com
* https://www.bonappetit.com
* https://www.biggerbolderbaking.com
* https://www.epicurious.com
* http://thesweetandsimplekitchen.com
* https://kirbiecravings.com
* https://www.kingarthurbaking.com
* https://www.allrecipes.com
* https://www.tasteofhome.com
* https://lilluna.com
* https://www.aspicyperspective.com
* https://www.cooking-therapy.com

## Knowledge Base
Our Cookie MONSTER system also has some knowledge about cookies, ingredients, recipes, and flavor data which it employs when generating and evaluating cookie recipes.
* Ingredient Class: An ingredient in a cookie recipe needs a name, quantity and unit, as well as an indicator of whether the ingredient is essential to the cookie recipe or not.
* Recipe Class: A cookie recipe is made up of a list of Ingredient objects and instructions about what to do with those ingredients to create a cookie.
* ESSENTIAL_INGREDIENTS (constant) - A list of ingredient names that are essential to all cookie recipes.
* Flavor pairing dataset curated by Bowdoin Computer Science Professor, Sarah Harmon
	* ingred_categories.npy - A numpy file containing a dataset of ingredients and what food categories they fall into.
	* ingred_word_emb.npy - A numpy file containing a dataset of common ingredients and their flavor pairing values.
* ### **Embedded Knowledge**
	* All ingredients in the Inspiring Set recipes had their units changed to grams using this conversion table:
		* https://www.kingarthurbaking.com/learn/ingredient-weight-chart
	* All recipes in the Inspiring Set had their ingredient names changed to match the ingredient names listed in
numpy files, ingred_categories.npy and ingred_word_emb.npy.
	* Line 482-483 in cookie_generator.py: Vanilla is used as a base ingredient for gathering all the cookie ingredients in a particular category from the flavor pairing data set.
	* 
 
### **Recipe Name Generator** 
Our unique recipe names are generated by taking a random mix-in ingredient name and gathering adjectives and their frequencies for that ingredient using the site below.
The cookie name is then generated as follows: [adjective] [mix-in ingredient] [cookies].
* https://describingwords.io